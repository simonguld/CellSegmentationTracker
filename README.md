

# Purpose of Implementation
links til classdoc og models. Include table of contents with links etc. Også henvis til example_notebook
# Getting Started

## Prerequisites

* Cellpose (in virtual environmate)
* Fiji -> trackmate-cellpose
* Java 8, Jython
* whatever packages I'm using (in a nice format? Possibly to allow pip install ...)

## Installation

# Pretrained models

For hver model:
Billede af segmentering, info om billerne det er trænet på, pixelradius etc

For class:
Gennemgå alle input-argumenter

Gennemgå relevante attributes
Gennemgå alle metoder



Henvis til example_notebook


# CellSegmentationTracker Documentation

## Importing the class
CellSegmentationTracker can be imported as follows:
```
from cellsegmentationtracker import CellSegmentationTracker
```

## Class definition


```
class CellSegmentationTracker.CellSegmentationTracker(self, imagej_filepath, cellpose_python_filepath,
 image_folder = None, xml_path = None, output_folder = None, use_model = 'CYTO',
custom_model_path = None, show_segmentation = False, cellpose_dict = {}, trackmate_dict = {}):
```

```
 __init__(self, imagej_filepath, cellpose_python_filepath, image_folder = None, xml_path = None,
output_folder = None, use_model = 'CYTO', custom_model_path = None, show_segmentation = False,
cellpose_dict = {}, trackmate_dict = {}):
```

**Parameters:**    
- **imagej_filepath** (str): The file path to the ImageJ/Fiji executable. It can be found in the Fiji.app folder
- **cellpose_python_filepath** (str): The file path to the Cellpose Python program. It can be found in the virtual environment created for running cellpose
- **image_folder** (str, default=None): The folder containing input images for processing. If provided, the class will process all images within this folder. If not provided, an XML file must be provided instead, and the class methods can then be used for postprocess analysis
- **xml_path** (str, default=None): If segmentation and tracking has already been carried out, the resulting TrackMate XML file can be provided, and the class methods
can be used for postprocess analysis
- **output_folder** (str, default=None): The folder where output files will be saved. If not specified, the image folder (if provided) will be used and otherwise the XML folder. Note that XML files generated by the class will always be output to the image folder
- **use_model** (str, default='CYTO'): Specifies the Cellpose model to use for segmentation. Options include 'CYTO', 'CYTO2' and 'NUCLEI'.
- **custom_model_path** (str, default=None): If a custom Cellpose model is to be used, provide the path to the model here.
- **show_segmentation** (bool, default=True): Determines whether to open Fiji and display the segmentation results interactively during processing.
- **cellpose_dict** (dict, default=dict()): A dictionary containing additional parameters to pass to the Cellpose segmentation algorithm listed below:
  - TARGET_CHANNEL (positive int, default = 0): What channel to use as the main channel for segmentation with cellpose. ‘0’ means that cellpose will run on a grayscale combination of all channels. ‘1’ stands for the first channel, corresponding to the red channel in a RGB image. Similarly for ‘2’ and ‘3’, the second and third channel, corresponding to the green and blue channels in a RGB image.
  - OPTIONAL_CHANNEL_2 (positive int, default = 0): The cyto and cyto2 pretrained models have been trained on images with a second channels in which the cell nuclei were labeled. It is used as a seed to make the detection of single cells more robust. It is optional and this parameter specifies in which channel are the nuclei (‘1’ to ‘3’). Use ‘0’ to skip using the second optional channel. For the nuclei model, this parameter is ignored.
  - CELL_DIAMETER (positive int, default = 0): Estimate of the cell diameter in the image, in physical units. Enter the value ‘0’ to have cellpose automatically determine the cell size estimate.
  - USE_GPU (boolean, default = False)
  - SIMPLIFY_CONTOURS (boolean, default = True): If True the 2D contours detected will be simplified. If False, they will follow exactly the pixel borders.
- **trackmate_dict** (dict, default=dict()): A dictionary containing parameters for configuring the TrackMate LAPTracker. It has the following keys:
    - LINKING_MAX_DISTANCE (float, default = 15.0): The max distance between two consecutive spots, in pixel units, allowed for creating links.
    - GAP_CLOSING_MAX_DISTANCE (float, default = 15.0): Gap-closing max spatial distance. The max distance between two spots, in physical units, allowed for creating links over missing detections. 
    - MAX_FRAME_GAP (positive int, default = 2): Gap-closing time-distance. The max difference in time-points between two spots to allow for linking. For instance a value of 2 means that the tracker will be able to make a link between a spot in frame t and a successor spots in frame t+2, effectively bridging over one missed detection in one frame. 
    - ALLOW_TRACK_MERGING (bool, default = True): If True then the tracker will perform tracklets or segments merging, that is: have two or more tracklet endings linking to one tracklet beginning. This leads to tracks possibly fusing together across time.
    - ALLOW_TRACK_SPLITTING (bool, default = True): If True then the tracker will perform tracklets or segments splitting, that is: have one tracklet ending linking to two or more tracklet beginnings . This leads to tracks possibly separating into several sub-tracks across time, like in cell division.                 

**Methods:**

**Attributes:**

# License

# Contact

# Acknowledgements 


